import{r as Ce,b as Re,g as Ee}from"./index-DDhZjIAs.js";import{r as je}from"./index-CCQ-jUte.js";function Me(e,o){for(var t=0;t<o.length;t++){const d=o[t];if(typeof d!="string"&&!Array.isArray(d)){for(const r in d)if(r!=="default"&&!(r in e)){const a=Object.getOwnPropertyDescriptor(d,r);a&&Object.defineProperty(e,r,a.get?a:{enumerable:!0,get:()=>d[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var G={},I={},v={},O={},P={},A={},B={},X;function ve(){if(X)return B;X=1,Object.defineProperty(B,"__esModule",{value:!0}),B.getSDKVersion=void 0;const e=()=>"9.1.0";return B.getSDKVersion=e,B}var x={},Y;function qe(){if(Y)return x;Y=1,Object.defineProperty(x,"__esModule",{value:!0}),x.generateRequestId=void 0;const e=d=>d.toString(16).padStart(2,"0"),o=d=>{const r=new Uint8Array(d/2);return window.crypto.getRandomValues(r),Array.from(r,e).join("")},t=()=>typeof window<"u"?o(10):new Date().getTime().toString(36);return x.generateRequestId=t,x}var z;function Se(){if(z)return A;z=1,Object.defineProperty(A,"__esModule",{value:!0}),A.MessageFormatter=void 0;const e=ve(),o=qe();class t{}return A.MessageFormatter=t,t.makeRequest=(d,r)=>({id:(0,o.generateRequestId)(),method:d,params:r,env:{sdkVersion:(0,e.getSDKVersion)()}}),t.makeResponse=(d,r,a)=>({id:d,success:!0,version:a,data:r}),t.makeErrorResponse=(d,r,a)=>({id:d,success:!1,error:r,version:a}),A}var T={},Z;function M(){if(Z)return T;Z=1,Object.defineProperty(T,"__esModule",{value:!0}),T.RestrictedMethods=T.Methods=void 0;var e;(function(t){t.sendTransactions="sendTransactions",t.rpcCall="rpcCall",t.getChainInfo="getChainInfo",t.getSafeInfo="getSafeInfo",t.getTxBySafeTxHash="getTxBySafeTxHash",t.getSafeBalances="getSafeBalances",t.signMessage="signMessage",t.signTypedMessage="signTypedMessage",t.getEnvironmentInfo="getEnvironmentInfo",t.getOffChainSignature="getOffChainSignature",t.requestAddressBook="requestAddressBook",t.wallet_getPermissions="wallet_getPermissions",t.wallet_requestPermissions="wallet_requestPermissions"})(e||(T.Methods=e={}));var o;return function(t){t.requestAddressBook="requestAddressBook"}(o||(T.RestrictedMethods=o={})),T}var ee;function Oe(){return ee||(ee=1,function(e){var o=P&&P.__createBinding||(Object.create?function(a,i,s,u){u===void 0&&(u=s);var c=Object.getOwnPropertyDescriptor(i,s);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(a,u,c)}:function(a,i,s,u){u===void 0&&(u=s),a[u]=i[s]}),t=P&&P.__exportStar||function(a,i){for(var s in a)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&o(i,a,s)};Object.defineProperty(e,"__esModule",{value:!0});const d=Se();class r{constructor(i=null,s=!1){this.allowedOrigins=null,this.callbacks=new Map,this.debugMode=!1,this.isServer=typeof window>"u",this.isValidMessage=({origin:u,data:c,source:n})=>{const f=!c,l=!this.isServer&&n===window.parent,g=typeof c.version<"u"&&parseInt(c.version.split(".")[0]),_=typeof g=="number"&&g>=1;let m=!0;return Array.isArray(this.allowedOrigins)&&(m=this.allowedOrigins.find(h=>h.test(u))!==void 0),!f&&l&&_&&m},this.logIncomingMessage=u=>{console.info(`Safe Apps SDK v1: A message was received from origin ${u.origin}. `,u.data)},this.onParentMessage=u=>{this.isValidMessage(u)&&(this.debugMode&&this.logIncomingMessage(u),this.handleIncomingMessage(u.data))},this.handleIncomingMessage=u=>{const{id:c}=u,n=this.callbacks.get(c);n&&(n(u),this.callbacks.delete(c))},this.send=(u,c)=>{const n=d.MessageFormatter.makeRequest(u,c);if(this.isServer)throw new Error("Window doesn't exist");return window.parent.postMessage(n,"*"),new Promise((f,l)=>{this.callbacks.set(n.id,g=>{if(!g.success){l(new Error(g.error));return}f(g)})})},this.allowedOrigins=i,this.debugMode=s,this.isServer||window.addEventListener("message",this.onParentMessage)}}e.default=r,t(M(),e)}(P)),P}var k={},C={},L={},te;function Ie(){if(te)return L;te=1,Object.defineProperty(L,"__esModule",{value:!0}),L.isObjectEIP712TypedData=void 0;const e=o=>typeof o=="object"&&o!=null&&"domain"in o&&"types"in o&&"message"in o;return L.isObjectEIP712TypedData=e,L}var F={},se;function Ae(){return se||(se=1,Object.defineProperty(F,"__esModule",{value:!0})),F}var $={},re;function Be(){return re||(re=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TransferDirection=e.TransactionStatus=e.TokenType=e.Operation=void 0;var o=je();Object.defineProperty(e,"Operation",{enumerable:!0,get:function(){return o.Operation}}),Object.defineProperty(e,"TokenType",{enumerable:!0,get:function(){return o.TokenType}}),Object.defineProperty(e,"TransactionStatus",{enumerable:!0,get:function(){return o.TransactionStatus}}),Object.defineProperty(e,"TransferDirection",{enumerable:!0,get:function(){return o.TransferDirection}})}($)),$}var W={},ae;function xe(){return ae||(ae=1,Object.defineProperty(W,"__esModule",{value:!0}),M()),W}var ne;function K(){return ne||(ne=1,function(e){var o=C&&C.__createBinding||(Object.create?function(d,r,a,i){i===void 0&&(i=a);var s=Object.getOwnPropertyDescriptor(r,a);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(d,i,s)}:function(d,r,a,i){i===void 0&&(i=a),d[i]=r[a]}),t=C&&C.__exportStar||function(d,r){for(var a in d)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&o(r,d,a)};Object.defineProperty(e,"__esModule",{value:!0}),t(Ie(),e),t(Ae(),e),t(Be(),e),t(xe(),e)}(C)),C}var ie;function ke(){if(ie)return k;ie=1,Object.defineProperty(k,"__esModule",{value:!0}),k.TXs=void 0;const e=M(),o=K();class t{constructor(r){this.communicator=r}async getBySafeTxHash(r){if(!r)throw new Error("Invalid safeTxHash");return(await this.communicator.send(e.Methods.getTxBySafeTxHash,{safeTxHash:r})).data}async signMessage(r){const a={message:r};return(await this.communicator.send(e.Methods.signMessage,a)).data}async signTypedMessage(r){if(!(0,o.isObjectEIP712TypedData)(r))throw new Error("Invalid typed data");return(await this.communicator.send(e.Methods.signTypedMessage,{typedData:r})).data}async send({txs:r,params:a}){if(!r||!r.length)throw new Error("No transactions were passed");const i={txs:r,params:a};return(await this.communicator.send(e.Methods.sendTransactions,i)).data}}return k.TXs=t,k}var H={},D={},oe;function J(){return oe||(oe=1,Object.defineProperty(D,"__esModule",{value:!0}),D.RPC_CALLS=void 0,D.RPC_CALLS={eth_call:"eth_call",eth_gasPrice:"eth_gasPrice",eth_getLogs:"eth_getLogs",eth_getBalance:"eth_getBalance",eth_getCode:"eth_getCode",eth_getBlockByHash:"eth_getBlockByHash",eth_getBlockByNumber:"eth_getBlockByNumber",eth_getStorageAt:"eth_getStorageAt",eth_getTransactionByHash:"eth_getTransactionByHash",eth_getTransactionReceipt:"eth_getTransactionReceipt",eth_getTransactionCount:"eth_getTransactionCount",eth_estimateGas:"eth_estimateGas",safe_setSettings:"safe_setSettings"}),D}var ue;function Le(){if(ue)return H;ue=1,Object.defineProperty(H,"__esModule",{value:!0}),H.Eth=void 0;const e=J(),o=M(),t={defaultBlockParam:(r="latest")=>r,returnFullTxObjectParam:(r=!1)=>r,blockNumberToHex:r=>Number.isInteger(r)?`0x${r.toString(16)}`:r};class d{constructor(a){this.communicator=a,this.call=this.buildRequest({call:e.RPC_CALLS.eth_call,formatters:[null,t.defaultBlockParam]}),this.getBalance=this.buildRequest({call:e.RPC_CALLS.eth_getBalance,formatters:[null,t.defaultBlockParam]}),this.getCode=this.buildRequest({call:e.RPC_CALLS.eth_getCode,formatters:[null,t.defaultBlockParam]}),this.getStorageAt=this.buildRequest({call:e.RPC_CALLS.eth_getStorageAt,formatters:[null,t.blockNumberToHex,t.defaultBlockParam]}),this.getPastLogs=this.buildRequest({call:e.RPC_CALLS.eth_getLogs}),this.getBlockByHash=this.buildRequest({call:e.RPC_CALLS.eth_getBlockByHash,formatters:[null,t.returnFullTxObjectParam]}),this.getBlockByNumber=this.buildRequest({call:e.RPC_CALLS.eth_getBlockByNumber,formatters:[t.blockNumberToHex,t.returnFullTxObjectParam]}),this.getTransactionByHash=this.buildRequest({call:e.RPC_CALLS.eth_getTransactionByHash}),this.getTransactionReceipt=this.buildRequest({call:e.RPC_CALLS.eth_getTransactionReceipt}),this.getTransactionCount=this.buildRequest({call:e.RPC_CALLS.eth_getTransactionCount,formatters:[null,t.defaultBlockParam]}),this.getGasPrice=this.buildRequest({call:e.RPC_CALLS.eth_gasPrice}),this.getEstimateGas=i=>this.buildRequest({call:e.RPC_CALLS.eth_estimateGas})([i]),this.setSafeSettings=this.buildRequest({call:e.RPC_CALLS.safe_setSettings})}buildRequest(a){const{call:i,formatters:s}=a;return async u=>{s&&Array.isArray(u)&&s.forEach((f,l)=>{f&&(u[l]=f(u[l]))});const c={call:i,params:u||[]};return(await this.communicator.send(o.Methods.rpcCall,c)).data}}}return H.Eth=d,H}var S={},R={},ce;function He(){if(ce)return R;ce=1,Object.defineProperty(R,"__esModule",{value:!0}),R.MAGIC_VALUE_BYTES=R.MAGIC_VALUE=void 0;const e="0x1626ba7e";R.MAGIC_VALUE=e;const o="0x20c13b0b";return R.MAGIC_VALUE_BYTES=o,R}var V={},N={},E={},de;function we(){if(de)return E;de=1,Object.defineProperty(E,"__esModule",{value:!0}),E.PermissionsError=E.PERMISSIONS_REQUEST_REJECTED=void 0,E.PERMISSIONS_REQUEST_REJECTED=4001;class e extends Error{constructor(t,d,r){super(t),this.code=d,this.data=r,Object.setPrototypeOf(this,e.prototype)}}return E.PermissionsError=e,E}var le;function Pe(){if(le)return N;le=1,Object.defineProperty(N,"__esModule",{value:!0}),N.Wallet=void 0;const e=M(),o=we();class t{constructor(r){this.communicator=r}async getPermissions(){return(await this.communicator.send(e.Methods.wallet_getPermissions,void 0)).data}async requestPermissions(r){if(!this.isPermissionRequestValid(r))throw new o.PermissionsError("Permissions request is invalid",o.PERMISSIONS_REQUEST_REJECTED);try{return(await this.communicator.send(e.Methods.wallet_requestPermissions,r)).data}catch{throw new o.PermissionsError("Permissions rejected",o.PERMISSIONS_REQUEST_REJECTED)}}isPermissionRequestValid(r){return r.every(a=>typeof a=="object"?Object.keys(a).every(i=>!!Object.values(e.RestrictedMethods).includes(i)):!1)}}return N.Wallet=t,N}var he;function De(){if(he)return V;he=1,Object.defineProperty(V,"__esModule",{value:!0});const e=Pe(),o=we(),t=(r,a)=>a.some(i=>i.parentCapability===r),d=()=>(r,a,i)=>{const s=i.value;return i.value=async function(){const u=new e.Wallet(this.communicator);let c=await u.getPermissions();if(t(a,c)||(c=await u.requestPermissions([{[a]:{}}])),!t(a,c))throw new o.PermissionsError("Permissions rejected",o.PERMISSIONS_REQUEST_REJECTED);return s.apply(this)},i};return V.default=d,V}var fe;function Ne(){if(fe)return S;fe=1;var e=S&&S.__decorate||function(c,n,f,l){var g=arguments.length,_=g<3?n:l===null?l=Object.getOwnPropertyDescriptor(n,f):l,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(c,n,f,l);else for(var h=c.length-1;h>=0;h--)(m=c[h])&&(_=(g<3?m(_):g>3?m(n,f,_):m(n,f))||_);return g>3&&_&&Object.defineProperty(n,f,_),_},o=S&&S.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(S,"__esModule",{value:!0}),S.Safe=void 0;const t=Ce(),d=He(),r=M(),a=J(),i=K(),s=o(De());class u{constructor(n){this.communicator=n}async getChainInfo(){return(await this.communicator.send(r.Methods.getChainInfo,void 0)).data}async getInfo(){return(await this.communicator.send(r.Methods.getSafeInfo,void 0)).data}async experimental_getBalances({currency:n="usd"}={}){return(await this.communicator.send(r.Methods.getSafeBalances,{currency:n})).data}async check1271Signature(n,f="0x"){const l=await this.getInfo(),g=(0,t.encodeFunctionData)({abi:[{constant:!1,inputs:[{name:"_dataHash",type:"bytes32"},{name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"}],functionName:"isValidSignature",args:[n,f]}),_={call:a.RPC_CALLS.eth_call,params:[{to:l.safeAddress,data:g},"latest"]};try{return(await this.communicator.send(r.Methods.rpcCall,_)).data.slice(0,10).toLowerCase()===d.MAGIC_VALUE}catch{return!1}}async check1271SignatureBytes(n,f="0x"){const l=await this.getInfo(),g=(0,t.encodeFunctionData)({abi:[{constant:!1,inputs:[{name:"_data",type:"bytes"},{name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"}],functionName:"isValidSignature",args:[n,f]}),_={call:a.RPC_CALLS.eth_call,params:[{to:l.safeAddress,data:g},"latest"]};try{return(await this.communicator.send(r.Methods.rpcCall,_)).data.slice(0,10).toLowerCase()===d.MAGIC_VALUE_BYTES}catch{return!1}}calculateMessageHash(n){return(0,t.hashMessage)(n)}calculateTypedMessageHash(n){const f=typeof n.domain.chainId=="object"?n.domain.chainId.toNumber():Number(n.domain.chainId);let l=n.primaryType;if(!l){const g=Object.values(n.types),_=Object.keys(n.types).filter(m=>g.every(h=>h.every(({type:p})=>p.replace("[","").replace("]","")!==m)));if(_.length===0||_.length>1)throw new Error("Please specify primaryType");l=_[0]}return(0,t.hashTypedData)({message:n.message,domain:{...n.domain,chainId:f,verifyingContract:n.domain.verifyingContract,salt:n.domain.salt},types:n.types,primaryType:l})}async getOffChainSignature(n){return(await this.communicator.send(r.Methods.getOffChainSignature,n)).data}async isMessageSigned(n,f="0x"){let l;if(typeof n=="string"&&(l=async()=>{const g=this.calculateMessageHash(n);return await this.isMessageHashSigned(g,f)}),(0,i.isObjectEIP712TypedData)(n)&&(l=async()=>{const g=this.calculateTypedMessageHash(n);return await this.isMessageHashSigned(g,f)}),l)return await l();throw new Error("Invalid message type")}async isMessageHashSigned(n,f="0x"){const l=[this.check1271Signature.bind(this),this.check1271SignatureBytes.bind(this)];for(const g of l)if(await g(n,f))return!0;return!1}async getEnvironmentInfo(){return(await this.communicator.send(r.Methods.getEnvironmentInfo,void 0)).data}async requestAddressBook(){return(await this.communicator.send(r.Methods.requestAddressBook,void 0)).data}}return S.Safe=u,e([(0,s.default)()],u.prototype,"requestAddressBook",null),S}var ge;function _e(){if(ge)return O;ge=1;var e=O&&O.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(O,"__esModule",{value:!0});const o=e(Oe()),t=ke(),d=Le(),r=Ne(),a=Pe();class i{constructor(u={}){const{allowedDomains:c=null,debug:n=!1}=u;this.communicator=new o.default(c,n),this.eth=new d.Eth(this.communicator),this.txs=new t.TXs(this.communicator),this.safe=new r.Safe(this.communicator),this.wallet=new a.Wallet(this.communicator)}}return O.default=i,O}var me;function Ve(){return me||(me=1,function(e){var o=v&&v.__createBinding||(Object.create?function(i,s,u,c){c===void 0&&(c=u);var n=Object.getOwnPropertyDescriptor(s,u);(!n||("get"in n?!s.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return s[u]}}),Object.defineProperty(i,c,n)}:function(i,s,u,c){c===void 0&&(c=u),i[c]=s[u]}),t=v&&v.__exportStar||function(i,s){for(var u in i)u!=="default"&&!Object.prototype.hasOwnProperty.call(s,u)&&o(s,i,u)},d=v&&v.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0}),e.getSDKVersion=void 0;const r=d(_e());e.default=r.default,t(_e(),e),t(K(),e),t(M(),e),t(Se(),e);var a=ve();Object.defineProperty(e,"getSDKVersion",{enumerable:!0,get:function(){return a.getSDKVersion}}),t(J(),e)}(v)),v}var j={},pe;function Ue(){if(pe)return j;pe=1,Object.defineProperty(j,"__esModule",{value:!0}),j.numberToHex=j.getLowerCase=void 0;function e(t){return t&&t.toLowerCase()}j.getLowerCase=e;function o(t){return`0x${t.toString(16)}`}return j.numberToHex=o,j}var ye;function Ge(){if(ye)return I;ye=1,Object.defineProperty(I,"__esModule",{value:!0}),I.SafeAppProvider=void 0;const e=Ve(),o=Re(),t=Ue();class d extends o.EventEmitter{constructor(a,i){super(),this.submittedTxs=new Map,this.safe=a,this.sdk=i}async connect(){this.emit("connect",{chainId:this.chainId})}async disconnect(){}get chainId(){return this.safe.chainId}async request(a){var u,c,n,f;const{method:i,params:s=[]}=a;switch(i){case"eth_accounts":return[this.safe.safeAddress];case"net_version":case"eth_chainId":return(0,t.numberToHex)(this.chainId);case"personal_sign":{const[h,p]=s;if(this.safe.safeAddress.toLowerCase()!==p.toLowerCase())throw new Error("The address or message hash is invalid");const y=await this.sdk.txs.signMessage(h);return("signature"in y?y.signature:void 0)||"0x"}case"eth_sign":{const[h,p]=s;if(this.safe.safeAddress.toLowerCase()!==h.toLowerCase()||!p.startsWith("0x"))throw new Error("The address or message hash is invalid");const y=await this.sdk.txs.signMessage(p);return("signature"in y?y.signature:void 0)||"0x"}case"eth_signTypedData":case"eth_signTypedData_v4":{const[h,p]=s,y=typeof p=="string"?JSON.parse(p):p;if(this.safe.safeAddress.toLowerCase()!==h.toLowerCase())throw new Error("The address is invalid");const b=await this.sdk.txs.signTypedMessage(y);return("signature"in b?b.signature:void 0)||"0x"}case"eth_sendTransaction":const l={...s[0],value:s[0].value||"0",data:s[0].data||"0x"};typeof l.gas=="string"&&l.gas.startsWith("0x")&&(l.gas=parseInt(l.gas,16));const g=await this.sdk.txs.send({txs:[l],params:{safeTxGas:l.gas}});return this.submittedTxs.set(g.safeTxHash,{from:this.safe.safeAddress,hash:g.safeTxHash,gas:0,gasPrice:"0x00",nonce:0,input:l.data,value:l.value,to:l.to,blockHash:null,blockNumber:null,transactionIndex:null}),g.safeTxHash;case"eth_blockNumber":return(await this.sdk.eth.getBlockByNumber(["latest"])).number;case"eth_getBalance":return this.sdk.eth.getBalance([(0,t.getLowerCase)(s[0]),s[1]]);case"eth_getCode":return this.sdk.eth.getCode([(0,t.getLowerCase)(s[0]),s[1]]);case"eth_getTransactionCount":return this.sdk.eth.getTransactionCount([(0,t.getLowerCase)(s[0]),s[1]]);case"eth_getStorageAt":return this.sdk.eth.getStorageAt([(0,t.getLowerCase)(s[0]),s[1],s[2]]);case"eth_getBlockByNumber":return this.sdk.eth.getBlockByNumber([s[0],s[1]]);case"eth_getBlockByHash":return this.sdk.eth.getBlockByHash([s[0],s[1]]);case"eth_getTransactionByHash":let m=s[0];try{m=(await this.sdk.txs.getBySafeTxHash(m)).txHash||m}catch{}return this.submittedTxs.has(m)?this.submittedTxs.get(m):this.sdk.eth.getTransactionByHash([m]).then(h=>(h&&(h.hash=s[0]),h));case"eth_getTransactionReceipt":{let h=s[0];try{h=(await this.sdk.txs.getBySafeTxHash(h)).txHash||h}catch{}return this.sdk.eth.getTransactionReceipt([h]).then(p=>(p&&(p.transactionHash=s[0]),p))}case"eth_estimateGas":return this.sdk.eth.getEstimateGas(s[0]);case"eth_call":return this.sdk.eth.call([s[0],s[1]]);case"eth_getLogs":return this.sdk.eth.getPastLogs([s[0]]);case"eth_gasPrice":return this.sdk.eth.getGasPrice();case"wallet_getPermissions":return this.sdk.wallet.getPermissions();case"wallet_requestPermissions":return this.sdk.wallet.requestPermissions(s[0]);case"safe_setSettings":return this.sdk.eth.setSafeSettings([s[0]]);case"wallet_sendCalls":{const{from:h,calls:p,chainId:y}=s[0];if(y!==(0,t.numberToHex)(this.chainId))throw new Error(`Safe is not on chain ${y}`);if(h!==this.safe.safeAddress)throw Error("Invalid from address");const b=p.map((q,U)=>{if(!q.to)throw new Error(`Invalid call #${U}: missing "to" field`);return{to:q.to,data:q.data??"0x",value:q.value??(0,t.numberToHex)(0)}}),{safeTxHash:w}=await this.sdk.txs.send({txs:b});return{id:w}}case"wallet_getCallsStatus":{const h=s[0],p={[e.TransactionStatus.AWAITING_CONFIRMATIONS]:100,[e.TransactionStatus.AWAITING_EXECUTION]:100,[e.TransactionStatus.SUCCESS]:200,[e.TransactionStatus.CANCELLED]:400,[e.TransactionStatus.FAILED]:500},y=await this.sdk.txs.getBySafeTxHash(h),b={version:"1.0",id:h,chainId:(0,t.numberToHex)(this.chainId),status:p[y.txStatus]};if(!y.txHash)return b;const w=await this.sdk.eth.getTransactionReceipt([y.txHash]);if(!w)return b;const Q=((c=(u=y.txData)==null?void 0:u.dataDecoded)==null?void 0:c.method)!=="multiSend"?1:((f=(n=y.txData.dataDecoded.parameters)==null?void 0:n[0].valueDecoded)==null?void 0:f.length)??1,q=Number(w.blockNumber),U=Number(w.gasUsed);return b.receipts=Array(Q).fill({logs:w.logs,status:(0,t.numberToHex)(y.txStatus===e.TransactionStatus.SUCCESS?1:0),blockHash:w.blockHash,blockNumber:(0,t.numberToHex)(q),gasUsed:(0,t.numberToHex)(U),transactionHash:y.txHash}),b}case"wallet_showCallsStatus":throw new Error(`"${a.method}" not supported`);case"wallet_getCapabilities":return{[(0,t.numberToHex)(this.chainId)]:{atomicBatch:{supported:!0}}};default:throw Error(`"${a.method}" not implemented`)}}send(a,i){a||i("Undefined request"),this.request(a).then(s=>i(null,{jsonrpc:"2.0",id:a.id,result:s})).catch(s=>i(s,null))}}return I.SafeAppProvider=d,I}var be;function Fe(){return be||(be=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SafeAppProvider=void 0;var o=Ge();Object.defineProperty(e,"SafeAppProvider",{enumerable:!0,get:function(){return o.SafeAppProvider}})}(G)),G}var Te=Fe();const $e=Ee(Te),Je=Me({__proto__:null,default:$e},[Te]);export{Je as i};
